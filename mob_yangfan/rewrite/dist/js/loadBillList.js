define(function(){var i=function(){$(".bill-list").on("swipeLeft swipeRight","li",l),$(".bill-list").on("click",".icon-trash",s),$(".bill-list").on("click",".icon-pencil",e),t()},t=function(){var i=window.localStorage,t=JSON.parse(i.getItem("mybill"))||void 0;if(!t)return!1;$(".bill-list").empty();for(var e=t.billList,n="",l=0;l<e.length;l++)n+='<li><div class="list-item">'+$("."+e[l].category)[0].outerHTML,n+="income"==e[l].category?'<span class="money income-num">+'+e[l].money+"</span>":'<span class="money spending-num">-'+e[l].money+"</span>",n+='<div class="date">'+e[l].date+'</div></div><div class="edit-item"><i class="icon-pencil"></i><i class="icon-trash"></i></div></li>';$(".bill-list").append(n)},e=function(i){var t=$(this).parent().prev();$(".input").empty().append($(t).children().eq(0).clone()),$(".input").append('<div class="input-box"><i class="icon-yen"></i><input type="text"></div>'),$(".input input").val(parseFloat($(t).children(".money").html())),$(".input").css({transform:"translate(0, -5rem)"}),$(".main-title .icon-pencil")[0].click(),n($(t).parent().index())},n=function(i){var t=window.localStorage,e=JSON.parse(t.getItem("mybill"));return e?(e.edit=i,void t.setItem("mybill",JSON.stringify(e))):!1},l=function(i){var t=!1;return $(this).siblings().each(function(i,e){return"translate(-8.8rem, 0px)"==e.style.transform?(e.style.transform="translate(0px, 0px)",t=!0,!1):void 0}),t?!1:void("swipeLeft"==i.type?$(this).css({transform:"translate(-8.8rem, 0)"}):$(this).css({transform:"translate(0px, 0px)"}))},s=function(){var i=$(this).parents("li"),t=i.index(),e=window.localStorage,n=JSON.parse(e.getItem("mybill")),l=n.billList[t],s=parseFloat(l.money);"income"==l.category?n.income-=s:(n.spending-=s,n.categorylist[l.category]-=l.money),n.billList.splice(t,1),e.setItem("mybill",JSON.stringify(n)),$(i).remove()};return{init:i,appendBill:t,setEditNum:n}});